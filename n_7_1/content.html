<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100 ä»¥å…§çš„è³ªæ•¸äº’å‹•è¬›ç¾©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; }
        .number-cell { transition: all 0.3s ease; cursor: pointer; }
        .is-prime { background-color: #22c55e !important; color: white; transform: scale(1.1); z-index: 10; font-weight: bold; border-radius: 50%; }
        .is-composite { background-color: #cbd5e1 !important; color: #94a3b8; text-decoration: line-through; }
        .is-special { background-color: #ef4444 !important; color: white; opacity: 0.6; }
        .math-fact { background-color: #fef3c7; color: #92400e; padding: 2px 8px; border-radius: 4px; font-weight: bold; font-family: sans-serif; }
        
        /* Input state styles */
        .code-input:disabled { background-color: #f1f5f9; cursor: not-allowed; border-color: #e2e8f0; color: #94a3b8; }
        .code-input.solved { background-color: #f0fdf4; border-color: #22c55e; color: #166534; font-weight: bold; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-800 mb-2">ğŸ“˜ 100 ä»¥å…§çš„è³ªæ•¸</h1>
            <p class="text-slate-600">N-7-1 äº’å‹•å¼å­¸ç¿’è¬›ç¾©</p>
        </header>

        <!-- Learning Objectives -->
        <section class="bg-white rounded-xl shadow-sm p-6 mb-6 border-l-4 border-blue-500">
            <h2 class="text-xl font-bold text-blue-700 mb-3">ğŸ¯ å­¸ç¿’ç›®æ¨™</h2>
            <ul class="list-disc list-inside text-slate-700 space-y-1">
                <li>èªªå‡ºã€Œè³ªæ•¸ã€èˆ‡ã€Œåˆæ•¸ã€çš„å®šç¾©ã€‚</li>
                <li>çŸ¥é“ 1 æ—¢ä¸æ˜¯è³ªæ•¸ï¼Œä¹Ÿä¸æ˜¯åˆæ•¸ã€‚</li>
                <li>ä½¿ç”¨ã€Œè³ªæ•¸ç¯©æ³•ã€æ‰¾å‡º 100 ä»¥å…§çš„æ‰€æœ‰è³ªæ•¸ã€‚</li>
                <li>ç ´è§£ <span class="font-bold underline text-slate-800">91</span> ç­‰æ•¸å­—çš„ã€Œè³ªæ•¸è¿·æ€ã€ã€‚</li>
            </ul>
        </section>

        <!-- Concept Cards -->
        <div class="grid md:grid-cols-3 gap-4 mb-8">
            <div class="bg-green-50 p-5 rounded-lg border border-green-200">
                <h3 class="font-bold text-green-700 text-lg mb-2">1ï¸âƒ£ è³ªæ•¸ (Prime)</h3>
                <p class="text-sm text-green-800">å¤§æ–¼ 1 çš„æ•´æ•¸ï¼Œå› æ•¸åªæœ‰ 1 å’Œè‡ªå·±ã€‚</p>
                <p class="mt-2 font-mono text-xs text-green-600">ç¯„ä¾‹ï¼š2, 3, 5, 7, 11 ...</p>
            </div>
            <div class="bg-slate-100 p-5 rounded-lg border border-slate-200">
                <h3 class="font-bold text-slate-700 text-lg mb-2">2ï¸âƒ£ åˆæ•¸ (Composite)</h3>
                <p class="text-sm text-slate-800">å¤§æ–¼ 1 çš„æ•´æ•¸ï¼Œé™¤äº† 1 å’Œè‡ªå·±é‚„æœ‰å…¶ä»–å› æ•¸ã€‚</p>
                <p class="mt-2 font-mono text-xs text-slate-500">ç¯„ä¾‹ï¼š4, 6, 8, 9, 91 ...</p>
            </div>
            <div class="bg-red-50 p-5 rounded-lg border border-red-200">
                <h3 class="font-bold text-red-700 text-lg mb-2">3ï¸âƒ£ æ•¸å­— 1</h3>
                <p class="text-sm text-red-800 font-bold underline">æ—¢ä¸æ˜¯è³ªæ•¸ï¼Œä¹Ÿä¸æ˜¯åˆæ•¸ï¼</p>
                <p class="mt-2 text-xs text-red-600">å› ç‚ºå®ƒåªæœ‰ 1 å€‹å› æ•¸ã€‚</p>
            </div>
        </div>

        <!-- Sieve Simulation -->
        <section class="bg-white rounded-xl shadow-md p-6 mb-8">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-slate-800">ğŸ§® äº’å‹•è³ªæ•¸ç¯©æ³•æ¨¡æ“¬</h2>
                <button onclick="resetSieve()" class="px-4 py-2 bg-slate-200 hover:bg-slate-300 rounded-md text-sm font-medium">é‡ç½®åœ–è¡¨</button>
            </div>
            <p class="text-slate-600 mb-6 text-sm">è·Ÿè‘—æ­¥é©Ÿæ“ä½œï¼šåŠƒæ‰ 1 â†’ åœˆå‡º 2 ä¸¦åŠƒæ‰å…¶å€æ•¸ â†’ åœˆå‡º 3... ç›´åˆ°å®Œæˆï¼</p>
            
            <div class="grid grid-cols-10 gap-1 md:gap-2 mb-6" id="sieve-grid">
                <!-- Grid items will be injected by JS -->
            </div>

            <div class="bg-blue-50 p-4 rounded-lg flex flex-wrap gap-2 items-center justify-center">
                <span class="text-sm font-bold text-blue-800 mr-2">å¿«é€Ÿæ“ä½œï¼š</span>
                <button onclick="markSpecial(1)" class="px-3 py-1 bg-red-400 text-white rounded text-sm">åŠƒæ‰ 1</button>
                <button onclick="sieveStep(2)" class="px-3 py-1 bg-green-500 text-white rounded text-sm">ç¯©æ‰ 2 çš„å€æ•¸</button>
                <button onclick="sieveStep(3)" class="px-3 py-1 bg-green-500 text-white rounded text-sm">ç¯©æ‰ 3 çš„å€æ•¸</button>
                <button onclick="sieveStep(5)" class="px-3 py-1 bg-green-500 text-white rounded text-sm">ç¯©æ‰ 5 çš„å€æ•¸</button>
                <button onclick="sieveStep(7)" class="px-3 py-1 bg-green-500 text-white rounded text-sm">ç¯©æ‰ 7 çš„å€æ•¸</button>
                <button onclick="showAllPrimes()" class="px-3 py-1 bg-indigo-600 text-white rounded text-sm">ç›´æ¥çœ‹çµæœ</button>
            </div>
        </section>

        <!-- Step-by-Step Quiz -->
        <section class="bg-amber-50 rounded-xl shadow-sm p-6 mb-8 border border-amber-200">
            <h2 class="text-xl font-bold text-amber-800 mb-4">ğŸ” ç·´ç¿’ï¼šåˆ¤æ–· 21 æ˜¯å¦ç‚ºè³ªæ•¸ï¼Ÿ</h2>
            <div id="quiz-container" class="space-y-4">
                <div id="q1">
                    <p class="text-slate-800 mb-2 font-medium">1ï¸âƒ£ 21 æ˜¯å¦å¤§æ–¼ 1ï¼Ÿ</p>
                    <div class="flex gap-2">
                        <button onclick="answerQ(1, true)" class="px-4 py-2 bg-white border border-amber-300 rounded hover:bg-amber-100">æ˜¯</button>
                        <button onclick="answerQ(1, false)" class="px-4 py-2 bg-white border border-amber-300 rounded hover:bg-amber-100">å¦</button>
                    </div>
                </div>
                <div id="q2" class="hidden">
                    <p class="text-slate-800 mb-2 font-medium">2ï¸âƒ£ è©¦è©¦çœ‹ 21 Ã· 3ï¼Œèƒ½æ•´é™¤å—ï¼Ÿ</p>
                    <div class="flex gap-2">
                        <button onclick="answerQ(2, true)" class="px-4 py-2 bg-white border border-amber-300 rounded hover:bg-amber-100">èƒ½ (<span class="math-fact">21 = 3 Ã— 7</span>)</button>
                        <button onclick="answerQ(2, false)" class="px-4 py-2 bg-white border border-amber-300 rounded hover:bg-amber-100">ä¸èƒ½</button>
                    </div>
                </div>
                <div id="q3" class="hidden">
                    <p class="text-slate-800 mb-2 font-medium">3ï¸âƒ£ å¦‚æœæœ‰é™¤äº† 1 å’Œæœ¬èº«ä»¥å¤–çš„å› æ•¸ï¼Œå®ƒæ˜¯ï¼Ÿ</p>
                    <div class="flex gap-2">
                        <button onclick="answerQ(3, 'prime')" class="px-4 py-2 bg-white border border-amber-300 rounded hover:bg-amber-100">è³ªæ•¸</button>
                        <button onclick="answerQ(3, 'composite')" class="px-4 py-2 bg-white border border-amber-300 rounded hover:bg-amber-100">åˆæ•¸</button>
                    </div>
                </div>
                <div id="quiz-feedback" class="hidden p-4 rounded-lg font-bold text-center"></div>
            </div>
        </section>

        <!-- Application & Challenge: Sequential Unlocking -->
        <section class="bg-indigo-50 rounded-xl shadow-sm p-6 mb-8 border border-indigo-200">
            <h2 class="text-xl font-bold text-indigo-800 mb-4">ğŸš€ å¯¦æˆ°æŒ‘æˆ°ï¼šç¥ç§˜å¤§é–€çš„å¯†ç¢¼</h2>
            <div class="space-y-4 text-slate-700">
                <div class="bg-white p-5 rounded-lg border border-indigo-100 shadow-inner">
                    <p class="font-bold text-lg mb-3 text-indigo-900">ğŸ”’ æƒ…å¢ƒé¡Œç›®ï¼š</p>
                    <p class="leading-relaxed mb-4">
                        çŸ³ç¢‘ä¸Šåˆ»è‘—ï¼šã€Œè¦é–‹å•Ÿç¥å»Ÿï¼Œéœ€**ç”±å°åˆ°å¤§**è¼¸å…¥ä¸‰å€‹å¯†ç¢¼æ•¸å­—ã€ï¼Œå¯†ç¢¼ç¬¦åˆä»¥ä¸‹æ‰€æœ‰æ¢ä»¶ï¼š
                    </p>
                    <ul class="list-none space-y-2 text-sm text-slate-600 mb-6 bg-indigo-50/50 p-4 rounded-md border border-indigo-50">
                        <li class="flex items-start gap-2">
                            <span class="inline-block w-5 h-5 bg-indigo-200 text-indigo-700 rounded-full text-center text-xs font-bold leading-5">1</span>
                            æ•¸å­—ä»‹æ–¼ <span class="font-bold text-indigo-700 text-base mx-1">40 åˆ° 60</span> ä¹‹é–“ã€‚
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="inline-block w-5 h-5 bg-indigo-200 text-indigo-700 rounded-full text-center text-xs font-bold leading-5">2</span>
                            æ•¸å­—æœ¬èº«å¿…é ˆæ˜¯ä¸€å€‹ <span class="font-bold text-indigo-700 text-base mx-1">è³ªæ•¸</span>ã€‚
                        </li>
                        <li class="flex items-start gap-2">
                            <span class="inline-block w-5 h-5 bg-indigo-200 text-indigo-700 rounded-full text-center text-xs font-bold leading-5">3</span>
                            æ•¸å­—çš„å€‹ä½æ•¸æ˜¯ <span class="font-bold text-indigo-700 text-base mx-1">3 æˆ– 7</span>ã€‚
                        </li>
                    </ul>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 mb-1">ç¬¬ä¸€é“é– (æœ€å°)</label>
                            <div class="flex gap-2">
                                <input type="text" id="code-1" class="code-input w-full p-3 border-2 border-indigo-200 rounded-lg outline-none text-center font-mono text-xl" placeholder="??">
                                <button id="btn-1" onclick="verifyStep(1)" class="px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">é©—è­‰</button>
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 mb-1">ç¬¬äºŒé“é–</label>
                            <div class="flex gap-2">
                                <input type="text" id="code-2" disabled class="code-input w-full p-3 border-2 border-indigo-200 rounded-lg outline-none text-center font-mono text-xl" placeholder="??">
                                <button id="btn-2" disabled onclick="verifyStep(2)" class="px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50">é©—è­‰</button>
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 mb-1">ç¬¬ä¸‰é“é– (æœ€å¤§)</label>
                            <div class="flex gap-2">
                                <input type="text" id="code-3" disabled class="code-input w-full p-3 border-2 border-indigo-200 rounded-lg outline-none text-center font-mono text-xl" placeholder="??">
                                <button id="btn-3" disabled onclick="verifyStep(3)" class="px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50">é©—è­‰</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between pt-2">
                    <p class="text-sm font-bold text-indigo-900 italic">ğŸ’¡ æç¤ºï¼šè«‹å…ˆæ‰¾å‡º 40~60 ä¹‹é–“æ‰€æœ‰ç¬¦åˆæ¢ä»¶çš„è³ªæ•¸å†å¡«å…¥ã€‚</p>
                    <button onclick="resetChallenge()" class="text-sm text-slate-500 hover:text-slate-800 underline">é‡ç½®æ‰€æœ‰å¯†ç¢¼</button>
                </div>
                <div id="challenge-feedback" class="hidden p-4 rounded-xl font-bold text-center"></div>
            </div>
        </section>

        <!-- Cheat Sheet & Reflection -->
        <footer class="grid md:grid-cols-2 gap-6">
            <div class="bg-white p-6 rounded-xl shadow-sm">
                <h3 class="font-bold text-slate-800 mb-3 border-b pb-2">âš ï¸ å¸¸è¦‹è¿·æ€ï¼ˆæ˜“éŒ¯é™·é˜±ï¼‰</h3>
                <ul class="text-sm space-y-3 text-slate-600">
                    <li class="flex items-center gap-2">
                        âŒ <span class="text-red-500 font-bold">1 æ˜¯è³ªæ•¸</span> 
                        <span class="text-slate-400">â†’</span> 
                        <span class="bg-slate-100 px-2 py-1 rounded text-slate-700">ä¸å°ï¼Œå®ƒåªæœ‰ 1 å€‹å› æ•¸ã€‚</span>
                    </li>
                    <li class="flex items-center gap-2">
                        âŒ <span class="text-red-500 font-bold">91 æ˜¯è³ªæ•¸</span> 
                        <span class="text-slate-400">â†’</span> 
                        <span class="bg-amber-50 border border-amber-200 px-2 py-1 rounded text-amber-800 font-medium">
                            å®ƒæ˜¯åˆæ•¸ï¼Œå› ç‚º <span class="math-fact">91 = 7 Ã— 13</span>
                        </span>
                    </li>
                    <li class="flex items-center gap-2">
                        âŒ <span class="text-red-500 font-bold">51 æ˜¯è³ªæ•¸</span> 
                        <span class="text-slate-400">â†’</span> 
                        <span class="bg-amber-50 border border-amber-200 px-2 py-1 rounded text-amber-800 font-medium">
                            å®ƒæ˜¯åˆæ•¸ï¼Œå› ç‚º <span class="math-fact">51 = 3 Ã— 17</span>
                        </span>
                    </li>
                </ul>
            </div>
            <div class="bg-indigo-900 text-indigo-50 p-6 rounded-xl shadow-sm">
                <h3 class="font-bold mb-3 border-b border-indigo-700 pb-2">ğŸ¤” åæ€èˆ‡è¨è«–</h3>
                <p class="text-sm leading-relaxed italic">
                    ã€Œç‚ºä»€éº¼ 2 æ˜¯å”¯ä¸€ä¸€å€‹å¶æ•¸è³ªæ•¸ï¼Ÿã€<br><br>
                    ã€Œå¦‚æœä¸€å€‹æ•¸å­—å€‹ä½æ•¸æ˜¯ 5ï¼Œå®ƒæœ‰å¯èƒ½æ˜¯è³ªæ•¸å—ï¼Ÿï¼ˆé™¤äº† 5 æœ¬èº«ä¹‹å¤–ï¼‰ã€
                </p>
            </div>
        </footer>
    </div>

    <script>
        const grid = document.getElementById('sieve-grid');
        const feedback = document.getElementById('quiz-feedback');
        const challengeFeedback = document.getElementById('challenge-feedback');

        // Correct sequential primes for the Secret Door challenge: 43, 47, 53
        const correctSequence = [43, 47, 53];

        function initGrid() {
            grid.innerHTML = '';
            for (let i = 1; i <= 100; i++) {
                const el = document.createElement('div');
                el.id = `num-${i}`;
                el.className = 'number-cell aspect-square flex items-center justify-center bg-white border border-slate-200 rounded text-sm md:text-base font-medium text-slate-700 shadow-sm';
                el.innerText = i;
                el.onclick = () => toggleNumber(i);
                grid.appendChild(el);
            }
        }

        function toggleNumber(n) {
            const el = document.getElementById(`num-${n}`);
            if (n === 1) {
                el.classList.toggle('is-special');
            } else {
                if (el.classList.contains('is-prime')) {
                    el.classList.remove('is-prime');
                    el.classList.add('is-composite');
                } else if (el.classList.contains('is-composite')) {
                    el.classList.remove('is-composite');
                } else {
                    el.classList.add('is-prime');
                }
            }
        }

        function markSpecial(n) {
            document.getElementById(`num-${n}`).className = 'number-cell aspect-square flex items-center justify-center border border-slate-200 rounded text-sm md:text-base is-special';
        }

        function sieveStep(p) {
            const primeEl = document.getElementById(`num-${p}`);
            primeEl.classList.add('is-prime');
            primeEl.classList.remove('is-composite');

            for (let i = p * 2; i <= 100; i += p) {
                const el = document.getElementById(`num-${i}`);
                if (!el.classList.contains('is-prime')) {
                    el.classList.add('is-composite');
                }
            }
        }

        function showAllPrimes() {
            const primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97];
            resetSieve();
            markSpecial(1);
            for (let i = 2; i <= 100; i++) {
                const el = document.getElementById(`num-${i}`);
                if (primes.includes(i)) {
                    el.classList.add('is-prime');
                } else {
                    el.classList.add('is-composite');
                }
            }
        }

        function resetSieve() {
            initGrid();
        }

        function answerQ(step, ans) {
            const q1 = document.getElementById('q1');
            const q2 = document.getElementById('q2');
            const q3 = document.getElementById('q3');
            
            feedback.classList.remove('hidden');
            
            if (step === 1) {
                if (ans === true) {
                    feedback.innerHTML = "âœ… æ­£ç¢ºï¼21 > 1ï¼Œæˆ‘å€‘ç¹¼çºŒæª¢æŸ¥ã€‚";
                    feedback.className = "p-4 rounded-lg font-bold text-center bg-green-100 text-green-800 mb-4";
                    q1.classList.add('opacity-50');
                    q2.classList.remove('hidden');
                } else {
                    feedback.innerHTML = "âŒ 21 æ¯” 1 å¤§å–”ï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚";
                    feedback.className = "p-4 rounded-lg font-bold text-center bg-red-100 text-red-800 mb-4";
                }
            } else if (step === 2) {
                if (ans === true) {
                    feedback.innerHTML = "âœ… æ²’éŒ¯ï¼21 = 3 Ã— 7ï¼Œé™¤äº† 1 å’Œè‡ªå·±é‚„æœ‰å…¶ä»–å› æ•¸ã€‚";
                    feedback.className = "p-4 rounded-lg font-bold text-center bg-green-100 text-green-800 mb-4";
                    q2.classList.add('opacity-50');
                    q3.classList.remove('hidden');
                } else {
                    feedback.innerHTML = "âŒ å†è©¦ç®—çœ‹çœ‹ï¼Œ3 çš„ 7 å€æ˜¯å¤šå°‘ï¼Ÿ";
                    feedback.className = "p-4 rounded-lg font-bold text-center bg-red-100 text-red-800 mb-4";
                }
            } else if (step === 3) {
                if (ans === 'composite') {
                    feedback.innerHTML = "ğŸ‰ å¤ªæ£’äº†ï¼21 æœ‰å¤šå€‹å› æ•¸ï¼Œå®ƒæ˜¯ã€Œåˆæ•¸ã€ã€‚";
                    feedback.className = "p-4 rounded-lg font-bold text-center bg-indigo-100 text-indigo-800 mb-4";
                    q3.classList.add('opacity-50');
                } else {
                    feedback.innerHTML = "âŒ å“å‘€ï¼Œè³ªæ•¸åªæœ‰å…©å€‹å› æ•¸ã€‚21 é‚„æœ‰ 3 å’Œ 7 å–”ï¼";
                    feedback.className = "p-4 rounded-lg font-bold text-center bg-red-100 text-red-800 mb-4";
                }
            }
        }

        // Sequential verification logic
        function verifyStep(stepIdx) {
            const currentInput = document.getElementById(`code-${stepIdx}`);
            const currentBtn = document.getElementById(`btn-${stepIdx}`);
            const userVal = parseInt(currentInput.value);
            
            challengeFeedback.classList.remove('hidden');
            
            if (isNaN(userVal)) {
                showChallengeMsg("âš ï¸ è«‹è¼¸å…¥æ•¸å­—ï¼", "bg-amber-100 text-amber-800");
                return;
            }

            if (userVal === correctSequence[stepIdx - 1]) {
                // Correct!
                currentInput.classList.add('solved');
                currentInput.disabled = true;
                currentBtn.disabled = true;
                currentBtn.innerText = "OK";
                
                if (stepIdx < 3) {
                    // Unlock next
                    const nextInput = document.getElementById(`code-${stepIdx + 1}`);
                    const nextBtn = document.getElementById(`btn-${stepIdx + 1}`);
                    nextInput.disabled = false;
                    nextBtn.disabled = false;
                    nextInput.focus();
                    showChallengeMsg(`âœ… ç¬¬ä¸€é“é–å·²è§£é–‹ï¼è«‹æ‰¾å‡ºä¸‹ä¸€å€‹æ¯” ${userVal} å¤§çš„ç¬¦åˆæ¢ä»¶è³ªæ•¸ã€‚`, "bg-green-100 text-green-800 border border-green-200");
                } else {
                    // All finished
                    showChallengeMsg("ğŸ† å®Œç¾è§£é–ï¼ç¥å»Ÿå¤§é–€ç·©ç·©é–‹å•Ÿï¼Œä½ æ‰¾å‡ºäº†æ‰€æœ‰å¯†ç¢¼ï¼š43, 47, 53ã€‚", "bg-green-500 text-white shadow-lg");
                }
            } else {
                // Wrong
                let errorMsg = "âŒ å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹å†æª¢æŸ¥ä¸€ä¸‹ç·šç´¢ã€‚";
                
                // Hint based on wrong input
                if (userVal < 40 || userVal > 60) {
                    errorMsg += "ï¼ˆæ•¸å­—å¿…é ˆåœ¨ 40 åˆ° 60 ä¹‹é–“ï¼‰";
                } else if (![3, 7].includes(userVal % 10)) {
                    errorMsg += "ï¼ˆå€‹ä½æ•¸å¿…é ˆæ˜¯ 3 æˆ– 7ï¼‰";
                } else if (userVal === 57) {
                    errorMsg += "ï¼ˆæ³¨æ„ï¼š57 = 3 Ã— 19ï¼Œå®ƒæ˜¯åˆæ•¸å–”ï¼ï¼‰";
                } else if (correctSequence.includes(userVal)) {
                    errorMsg += "ï¼ˆé€™å€‹æ•¸å­—å°ï¼Œä½†é †åºä¸æ˜¯æœ€å°çš„å–”ï¼ï¼‰";
                }
                
                showChallengeMsg(errorMsg, "bg-red-100 text-red-800 border border-red-200");
            }
        }

        function showChallengeMsg(msg, classes) {
            challengeFeedback.innerHTML = msg;
            challengeFeedback.className = `p-4 rounded-xl font-bold text-center mt-4 ${classes}`;
        }

        function resetChallenge() {
            for (let i = 1; i <= 3; i++) {
                const input = document.getElementById(`code-${i}`);
                const btn = document.getElementById(`btn-${i}`);
                input.value = '';
                input.classList.remove('solved');
                input.disabled = (i !== 1);
                btn.disabled = (i !== 1);
                btn.innerText = "é©—è­‰";
            }
            challengeFeedback.classList.add('hidden');
        }

        window.onload = () => {
            initGrid();
        };
    </script>
</body>
</html>
